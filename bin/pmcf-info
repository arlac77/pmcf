#!/usr/bin/env node
import { prepare } from "../src/cmd.mjs";
const { root, args } = prepare();

await root.loadAll();

const objectName = args[0];

if (objectName) {
  const object = await root.named(objectName);
  console.log(object.toJSON());
} else {
  for await (const location of root.locations()) {
    console.log(location.name);
    console.log("  ", (await location.service({ type: "dns" }))?.toString());
  }
}
