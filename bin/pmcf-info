#!/usr/bin/env node
import { prepare } from "../src/cmd.mjs";
const { world, args } = prepare();

const objectName = args[0];

if (objectName) {
  const object = await world.named(objectName);
  console.log(object.toJSON());
} else {
  for await (const location of world.locations()) {
    console.log(location.name);
    console.log("  ", (await location.service({ type: "dns"}))?.toString());
  }
}
